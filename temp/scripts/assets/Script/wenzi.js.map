{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "track",
    "back",
    "type",
    "Node",
    "default",
    "human",
    "leftPadding",
    "limit",
    "ypos",
    "zhexianFlag",
    "zhexianLimit",
    "hand1",
    "hand2",
    "hand",
    "onLoad",
    "noAction",
    "node",
    "y",
    "find",
    "setTrack",
    "update",
    "dt",
    "line",
    "sin",
    "changeVelocityLine",
    "zhexian",
    "fightHuman",
    "x",
    "width",
    "willX",
    "willY",
    "Math",
    "game",
    "changeVelocityLineFlag",
    "changeVelocityLineTime",
    "randomC",
    "random",
    "abs",
    "humanX",
    "humanY",
    "fightAction",
    "moveTo",
    "actionWithCall",
    "sequence",
    "callFunc",
    "actionFinish",
    "disX",
    "disY",
    "rotation",
    "atan",
    "PI",
    "runAction",
    "removeFromParent",
    "onCollisionEnter",
    "other",
    "self",
    "handX",
    "handy",
    "wenzi",
    "wenziX",
    "wenziY",
    "collisionHand",
    "collisionHandX",
    "collisionHandY",
    "hand1X",
    "hand1Y",
    "hand2X",
    "hand2Y",
    "wenziLeftX",
    "handRightX",
    "bite",
    "papapa",
    "willScaleY1",
    "scaleY",
    "willScaleY2",
    "willWeight",
    "downMoveBy"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        track : 0,\r\n        back : {\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        human : {\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        leftPadding : 60,\r\n        limit : false,\r\n        ypos:0,\r\n        zhexianFlag:1,\r\n        zhexianLimit : 60,\r\n\r\n        hand1:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n\r\n        hand2:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n\r\n        hand : {\r\n            type:cc.Node,\r\n            default:null\r\n        }\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.noAction = true;\r\n        this.ypos = this.node.y;\r\n\r\n        //获取hand1和hand2\r\n        this.hand1 = cc.find(\"Canvas/back/hand/hand1\");\r\n\r\n        this.hand2 = cc.find(\"Canvas/back/hand/hand2\");\r\n\r\n        this.hand = cc.find(\"Canvas/back/hand\");\r\n    },\r\n\r\n    setTrack : function(track){\r\n        this.track = track;\r\n    },\r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function (dt) {\r\n        //\r\n        switch(this.track){\r\n            case 0://直线\r\n                this.line(dt);\r\n                break;\r\n            case 1://sin\r\n                this.sin(dt);\r\n                break;\r\n            case 2:\r\n                this.changeVelocityLine(dt);\r\n                break;\r\n            case 3://折线\r\n                this.zhexian(dt);\r\n                break;\r\n\r\n        }\r\n\r\n        if(this.limit && this.noAction){\r\n            this.noAction = false;\r\n            this.fightHuman();\r\n        }\r\n\r\n    },\r\n    //各种轨迹的函数\r\n    //直线\r\n    line : function(dt){\r\n        if(!this.limit){\r\n            this.node.x -= 7;\r\n            if(this.node.x < -this.back.width/2 + this.node.width/2 + this.human.width/2 + this.leftPadding){\r\n                this.limit = true;\r\n            }\r\n        }\r\n        \r\n    },\r\n    sin : function(dt){\r\n        if(!this.limit){\r\n            var willX = this.node.x - 5;\r\n            var willY = Math.sin(willX/60)*70;\r\n            this.node.x = willX;\r\n            this.node.y = willY;\r\n            if(this.node.x < -this.back.width/2 + this.node.width/2 + this.human.width/2 + this.leftPadding){\r\n                this.limit = true;\r\n            }\r\n\r\n        }\r\n        \r\n    },\r\n    //改变速度轨迹（直线）\r\n    changeVelocityLine : function(dt){\r\n        if(!this.limit){\r\n            if(cc.game.changeVelocityLineFlag){//已经在加速,记录时间\r\n                if(!cc.game.changeVelocityLineTime){\r\n                        cc.game.changeVelocityLineTime = 0;\r\n                    }\r\n                if(cc.game.changeVelocityLineTime < 0.4){\r\n                    this.node.x -= 14;\r\n                    cc.game.changeVelocityLineTime += dt;\r\n                }else{\r\n                    cc.game.changeVelocityLineTime = 0;\r\n                    cc.game.changeVelocityLineFlag = false;\r\n                }\r\n                \r\n            }else{//没有加速，计算随机数，判断是否要加速\r\n                var randomC = Math.random();\r\n                if(randomC < 0.04){//加速1s\r\n                    cc.game.changeVelocityLineFlag = true;\r\n                }else{//不加速，正常飞行\r\n                    this.node.x -= 7;\r\n                }\r\n            }\r\n\r\n            if(this.node.x < -this.back.width/2 + this.node.width/2 + this.human.width/2 + this.leftPadding){\r\n                this.limit = true;\r\n            }\r\n        }\r\n    },\r\n\r\n    //折线\r\n    zhexian : function(dt){\r\n        if(!this.limit){\r\n            var willX = this.node.x - 6;\r\n            var willY = this.node.y + (3 * this.zhexianFlag);\r\n            if(Math.abs(willY - this.ypos) > this.zhexianLimit){\r\n                var willY = this.ypos + this.zhexianLimit * (this.zhexianFlag);\r\n                this.zhexianFlag = -(this.zhexianFlag);\r\n            }\r\n            this.node.x = willX;\r\n            this.node.y = willY;\r\n\r\n            if(this.node.x < -this.back.width/2 + this.node.width/2 + this.human.width/2 + this.leftPadding){\r\n                this.limit = true;\r\n            }\r\n        }\r\n        \r\n    },\r\n\r\n\r\n    \r\n    //超过左侧界限，朝人物飞翔\r\n    fightHuman : function(){\r\n        var humanX = this.human.x;\r\n        var humanY = this.human.y;\r\n        var fightAction = cc.moveTo(1,humanX,humanY);\r\n        var actionWithCall = cc.sequence(fightAction,cc.callFunc(this.actionFinish,this,null));\r\n        //计算角度\r\n        var disX = Math.abs(humanX - this.node.x);\r\n        var disY = Math.abs(humanY - this.node.y);\r\n        var rotation = Math.atan(disY/disX) * (180/Math.PI);\r\n        if(this.node.y > humanY){//在上，反转\r\n            this.node.rotation = -rotation;\r\n        }else if(this.node.y < humanY){//在下，正转\r\n            this.node.rotation = rotation;\r\n        }\r\n\r\n\r\n        this.node.runAction(actionWithCall);\r\n        \r\n    },\r\n\r\n    actionFinish : function(){\r\n        this.node.removeFromParent();\r\n    },\r\n\r\n    //碰撞回调\r\n    onCollisionEnter: function (other, self) {\r\n        var handX = this.hand.x;\r\n        var handy = this.hand.y;\r\n\r\n        //判断ohter(hand)的坐标，是否被咬\r\n        //只需判断蚊子是在手下边，中间，上边 即可区分\r\n        var wenzi = self.node;\r\n        var wenziX = wenzi.x;\r\n        var wenziY = wenzi.y;\r\n\r\n        var collisionHand = other.node;\r\n        var collisionHandX = collisionHand.x;\r\n        var collisionHandY = collisionHand.y;\r\n\r\n        var hand1X = this.hand1.x + handX;\r\n        var hand1Y = this.hand1.y + handy;\r\n\r\n        var hand2X = this.hand2.x + handX;\r\n        var hand2Y = this.hand2.y + handy;\r\n\r\n        var wenziLeftX =  wenziX - self.node.width/2;\r\n        var handRightX = hand1X + this.hand1.width/2;\r\n\r\n        if(Math.abs(handRightX - wenziLeftX) <= 10){//在手右侧,咬到手边缘\r\n            this.bite();\r\n        }else if(wenziY < hand2Y){//在手下\r\n            //手变大，变沉\r\n            this.bite();\r\n        }else if(hand2Y < wenziY < hand1Y){//手中\r\n            // this.actionFinish();\r\n            //判断是否拍手?\r\n            if(cc.game.papapa){\r\n                this.actionFinish();\r\n            }\r\n        }else{//在手上\r\n            //手变大，变沉\r\n            this.bite();\r\n        }\r\n\r\n    },\r\n\r\n    bite : function(dt){\r\n        var willScaleY1 = this.hand1.scaleY * 1.6;\r\n        var willScaleY2 = this.hand1.scaleY * 1.6;\r\n        willScaleY1 = willScaleY1 >= 3 ? 3 : willScaleY1;\r\n        willScaleY2 = willScaleY2 >= 3 ? 3 : willScaleY2;\r\n        this.hand1.scaleY = willScaleY1;\r\n        this.hand2.scaleY = willScaleY2;\r\n\r\n        var willWeight = cc.game.downMoveBy * 1.5;\r\n        willWeight = (willWeight > 6) ? 6 : willWeight;\r\n        cc.game.downMoveBy = willWeight;\r\n    }\r\n});\r\n"
  ]
}